function ModalController(e){var t=this;t.hide=function(){e.hide()},t.cancel=function(){e.cancel()},t.answer=function(t){e.hide(t)}}!function(){angular.module("acquirer",["acquirer.core","acquirer.input","acquirer.modal","acquirer.users","acquirer.shared"]).config(function(e,t){e.resourceUrlWhitelist(["self","https://localhost:8080/**","http://localhost:8081/**","https://localhost:8082/**","https://localhost:8444/**"]),t.theme("default");var n=t.extendPalette("light-blue",{contrastDefaultColor:"light",contrastDarkColors:["50"],50:"ffffff"});t.definePalette("customBlue",n),t.theme("default").primaryPalette("orange").accentPalette("pink"),t.theme("input","default").primaryPalette("purple")})}(),function(){"use strict";angular.module("acquirer.core",["ngRoute","ui.router","ngMaterial","ngLocale","ngResource"])}(),function(){"use strict";angular.module("acquirer.modal",["ui.router","ngMaterial"])}(),function(){"use strict";angular.module("acquirer.input",["ui.router","ngMaterial","ngMessages","ngRoute"])}(),function(){"use strict";angular.module("acquirer.shared",["acquirer.i18n","ngMessages"])}(),function(){"use strict";angular.module("acquirer.i18n.constants",[])}(),function(){"use strict";angular.module("acquirer.users",["ngMaterial"])}(),function(){function e(e,t,n,a){function o(){var e=n.hide()||a.when(!0);e.then(function(){t("left").toggle()})}function r(e){s.selected=angular.isNumber(e)?$scope.users[e]:e,s.toggleList()}function i(e){function t(e){this.user=a,this.actions=[{name:"Phone",icon:"phone",icon_url:"./assets/images/angular-material/icons/ic_phone_24px.svg"},{name:"Twitter",icon:"twitter",icon_url:"./assets/images/angular-material/icons/twitter.svg"},{name:"Google+",icon:"google_plus",icon_url:"./assets/images/angular-material/icons/ic_email_24px.svg"},{name:"Hangout",icon:"hangouts",icon_url:"./assets/images/angular-material/icons/hangout.svg"}],this.submitContact=function(t){e.hide(t)}}var a=s.selected;return n.show({parent:angular.element(document.getElementById("content")),templateUrl:"./app/components/aboutus/view/contactSheet.html",controller:["$mdBottomSheet",t],controllerAs:"cp",bindToController:!0,targetEvent:e}).then(function(e){})}var s=this;s.selected=null,s.users=[],s.selectUser=r,s.toggleList=o,s.showContactOptions=i,e.loadAllUsers().then(function(e){s.users=[].concat(e),s.selected=e[0]})}angular.module("acquirer.users").controller("UserController",["userService","$mdSidenav","$mdBottomSheet","$q",e]),angular.module("acquirer.users").config(function(e){e.defaultIconSet("./images/avatars.svg",512).icon("menu","./assets/images/angular-material/icons/menu.svg",128).icon("share","./assets/images/angular-material/icons/message.svg",128).icon("google_plus","./assets/images/angular-material/icons/ic_email_24px.svg",512).icon("hangouts","./assets/images/angular-material/icons/hangout.svg",512).icon("twitter","./assets/images/angular-material/icons/twitter.svg",512).icon("phone","./assets/images/angular-material/icons/ic_phone_24px.svg",512)})}(),function(){"use strict";function e(e){var t=[{name:"Danijela Petrovic",avatar:"svg-1",content:"Zombie ipsum reversus ab viral inferno, nam rick grimes malum cerebro. De carne lumbering animata corpora quaeritis. Summus brains sit​​, morbo vel maleficia? De apocalypsi gorger omero undead survivor dictum mauris."},{name:"Farkas Laura",avatar:"svg-2",content:"Raw denim pour-over readymade Etsy Pitchfork. Four dollar toast pickled locavore bitters McSweeney's blog. Try-hard art party Shoreditch selfies. Odd Future butcher VHS, disrupt pop-up Thundercats chillwave vinyl jean shorts taxidermy master cleanse letterpress Wes Anderson mustache Helvetica. Schlitz bicycle rights chillwave irony lumberhungry Kickstarter next level sriracha typewriter Intelligentsia, migas kogi heirloom tousled. Disrupt 3 wolf moon lomo four loko. Pug mlkshk fanny pack literally hoodie bespoke, put a bird on it Marfa messenger bag kogi VHS."},{name:"Igor Jovin",avatar:"svg-3",content:"Scratch the furniture spit up on light gray carpet instead of adjacent linoleum so eat a plant, kill a hand pelt around the house and up and down stairs chasing phantoms run in circles, or claw drapes. Always hungry pelt around the house and up and down stairs chasing phantoms."},{name:"Strahinja Stanivuk",avatar:"svg-4",content:"Webtwo ipsum dolor sit amet, eskobo chumby doostang bebo. Bubbli greplin stypi prezi mzinga heroku wakoopa, shopify airbnb dogster dopplr gooru jumo, reddit plickers edmodo stypi zillow etsy."},{name:"Aleksandar Ilic",avatar:"svg-5",content:"Lebowski ipsum yeah? What do you think happens when you get rad? You turn in your library card? Get a new driver's license? Stop being awesome? Dolor sit amet, consectetur adipiscing elit praesent ac magna justo pellentesque ac lectus. You don't go out and make a living dressed like that in the middle of a weekday. Quis elit blandit fringilla a ut turpis praesent felis ligula, malesuada suscipit malesuada."}];return{loadAllUsers:function(){return e.when(t)}}}angular.module("acquirer.users").service("userService",["$q",e])}(),function(){"use strict";function e(e,t){e.state("main",{"abstract":!0,views:{header:{templateUrl:"app/components/acquirer/header.html",controller:"HeaderController",controllerAs:"hc"},menu:{templateUrl:"app/components/acquirer/menu.html"},footer:{templateUrl:"app/components/acquirer/footer.html"}}}).state("main.home",{url:"/home",views:{"content@":{templateUrl:"app/components/acquirer/home.html",controller:"HomeController",controllerAs:"hoc"}}}).state("main.about",{url:"/about",views:{"content@":{templateUrl:"app/components/aboutus/aboutus.html",controller:"UserController",controllerAs:"ul"}}}).state("main.arg",{url:"/input/idpayment/:idpayment",views:{"content@":{templateUrl:"app/components/input/input.html",controller:"InputController",controllerAs:"inc"}}}).state("main.input",{url:"/input",views:{"content@":{templateUrl:"app/components/input/input.html",controller:"InputController",controllerAs:"inc"}}}),t.otherwise("/home")}angular.module("acquirer.core").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e,t,n){function a(a){e.use(a),t.set(a),o.currentLanguage=n[a].LANGUAGE}var o=this;o.currentLanguage=n[e.use()].LANGUAGE,o.setLanguage=a}angular.module("acquirer.core").controller("HeaderController",e),e.$inject=["$translate","tmhDynamicLocale","crTranslations"]}(),function(){"use strict";function e(){console.log("HOMEEEEEEEEEEEEEEEEEEE")}angular.module("acquirer.core").controller("HomeController",e)}(),function(){"use strict";function e(e,t,n,a,o,r,i,s){var l=this;l.transaction={paymentId:"",amount:"",cardholdername:"",cardholderlastname:"",cardtype:"",pan:"",cardSecCode:"",expmonth:"",expyear:"",CSRFToken:""},l.resultTrans={transactionResult:"",merchantOrderId:"",acquirerOrderId:"",acquirerTimestamp:"",paymentId:""},console.log("USAO JE U KONTROLER"),angular.isUndefined(o.idpayment)||(console.log(o.idpayment),l.idpayment=o.idpayment);var c=function(e){console.log("ON SUCCESS PAYMENTA:"),console.log(e.paymentId),console.log(e.amount),console.log(e.csrftoken),l.transaction.paymentId=e.paymentId,l.transaction.amount=e.amount,l.transaction.CSRFToken=e.csrftoken},u=function(e){console.log("ON onFailure:"+l.transaction)};l.onIncomingParametar=function(e){console.log("POZIVA NA OSNOVU INDEFINED ID PAYMENTA :"+e),console.log("SALJE ID PAYMENTA :"+e);var t=a.send(e);t.then(c,u)},angular.isUndefined(l.idpayment)||l.onIncomingParametar(l.idpayment),l.redirectUrl="",l.returnUrl="https://localhost:8000/insurance";var d=function(e){console.log("ON SUCCESS onSuccessTransaction:"),console.log(e),console.log(e.errorMsg),l.resultTrans={transactionResult:"success",merchantOrderId:e.merchantOrderId,acquirerOrderId:e.acquirerOrderId,acquirerTimestamp:e.acquirerTimeStamp,paymentId:e.paymentId},r(function(){"SUCCESSFULL"==e.state&&l.showConfirm(),"UNSUCCESSFULL"==e.state&&(l.showError(e.errorMsg),console.log(e.errorMsg)),console.log("update with timeout fired")},3e3)},m=function(){console.log("ON onFailure Transaction:"+l.transaction),r(function(){e.show(e.alert().parent(angular.element(document.body)).clickOutsideToClose(!1).title(" UNSUCCESSFULL TRANSACTION ").content("<h2>Transaction is not generate.</h2>").ariaLabel("Alert Dialog Demo").ok("OK")),console.log("update with timeout fired")},3e3)},p=function(e){alert("Notified: "+e)};l.generatingTransaction=function(t){if(console.log("GENERATING TRANSACTIONS:"),""!==l.transaction.paymentId){l.sending_transaction={paymentId:l.transaction.paymentId,amount:l.transaction.amount,cardHolderName:l.transaction.cardholdername+" "+l.transaction.cardholderlastname,pan:l.transaction.pan,cardSecCode:l.transaction.cardSecCode,cardExpDate:new Date(1,l.transaction.expmonth,l.transaction.expyear),CSRFToken:l.transaction.CSRFToken,acquirerTimeStamp:new Date},console.log(l.sending_transaction);var a=n.generate(l.sending_transaction);a.then(d,m,p)}else r(function(){e.show(e.alert().parent(angular.element(document.body)).clickOutsideToClose(!1).title(" UNSUCCESSFULL TRANSACTION ").content('<h3 style="color:red">Transaction is not generate.</h3> <div style="color:red>There are missing value for payment id.<div>').ariaLabel("Alert Dialog ").ok("OK")),console.log("update with timeout fired")},3e3)},l.showModalProgress=function(n){e.show({animate:!0,controller:ModalController,controllerAs:"mdc",templateUrl:"app/components/modal/progress-modal.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!1,fullscreen:t("sm")&&l.customFullscreen})},l.showConfirm=function(){var n=t("sm")||t("xs");e.show({controller:ModalController,templateUrl:"app/components/modal/success-modal.html",parent:angular.element(document.body),clickOutsideToClose:!1,fullscreen:n}).then(function(e){console.log("redirekcija."+e),console.log(l.resultTrans);var t=i.sending(l.resultTrans);t.then(function(e){console.log("URL JE: "+e.url),l.redirectUrl=e.url,s.location.href=l.redirectUrl},function(e){console.log("error",e)})},function(){console.log("You cancelled the dialog.")})},l.showError=function(n){var a=t("sm")||t("xs");angular.isUndefined(n)&&(n="There are problems with a transaction."),console.log("PORUKA PRE SLANJA: "+n),e.show({parent:angular.element(document.body),clickOutsideToClose:!1,fullscreen:a,controller:ModalController,template:'<md-dialog  ng-controller="ModalController as mc"> <md-dialog-content><h2 style="color:red">Fail</h2><div   layout="column"> Payment failed.<hr><p>'+n+'</p><hr><div layout="row" ><img style="margin: auto; max-width: 100%;" alt="error" src="/images/error.png"></div></div><md-dialog-actions layout="row"> <span/><md-button class="md-raised md-primary" ng-click="mc.answer(odg)">Go to merchant</md-button></md-dialog-actions></md-dialog-content>'}).then(function(e){console.log("redirekcija."+e),console.log(l.resultTrans);var t=i.sending(l.resultTrans);t.then(function(e){console.log("URL JE: "+e.url),l.redirectUrl=e.url,s.location.href=l.redirectUrl},function(e){console.log("error",e)})},function(){console.log("You cancelled the dialog.")})}}angular.module("acquirer.input").controller("InputController",e),e.$inject=["$mdDialog","$mdMedia","Transaction","Payment","$stateParams","$timeout","Result","$window"]}(),function(){"use strict";function e(e,t){var n={send:function(n){var a=t.defer();return e({url:"http://localhost:8081/Acquirer_back/payment/init/payment?id="+n,method:"GET",data:n}).success(function(e){console.log("Uspesno slanju payment id."),a.resolve(e)}).error(function(){console.log("Došlo je do greške pri slanju payment id."),a.reject()}),a.promise}};return n}angular.module("acquirer.input").factory("Payment",e),e.$inject=["$http","$q"]}(),describe("InputController",function(){var e,t,n,a,o;beforeEach(module("acquirer")),beforeEach(inject(function(r,i,s,l,c,u,d,m){a=i,n=s,$stateParams=l,$timeout=c,t=u,$window=d,o=m,o.whenGET("app/components/acquirer/header.html").respond("<div/>"),o.whenGET("app/components/acquirer/menu.html").respond("<div/>"),o.whenGET("app/components/acquirer/footer.html").respond("<div/>"),o.whenGET("app/components/input/input.html").respond("<div/>"),o.whenGET("http://localhost:8081/Acquirer_back/payment/init/payment?id=1").respond(200,["1","2","3"]),e=r("InputController",{Transaction:a,Payment:n,$stateParams:$stateParams,$timeout:$timeout,Result:t,$window:$window,$httpBackend:o})})),it("Variables to be defined",function(){expect(e.transaction).toBeDefined(),expect(e.resultTrans).toBeDefined()}),it("Methods to be defined",function(){expect(e.onIncomingParametar).toBeDefined(),expect(e.generatingTransaction).toBeDefined(),expect(e.showModalProgress).toBeDefined(),expect(e.showConfirm).toBeDefined(),expect(e.showError).toBeDefined()}),it("Should get transaction data, paymentId, amount, CSRFtoken",function(){o.expectGET("http://localhost:8081/Acquirer_back/payment/init/payment?id=1").respond(200,["1","2","3"]),n.send("1"),o.flush(),expect(e.transaction.paymentId).toBeDefined(),expect(e.transaction.amount).toBeDefined(),expect(e.transaction.CSRFToken).toBeDefined()}),it("Should get generate data",function(){var t="transaction";o.expectPOST("http://localhost:8081/Acquirer_back/payment/confirm",t).respond(200,[1]),a.generate(t),o.flush(),expect(e.resultTrans).toBeDefined()}),it("Should get result data",function(){var n="SUCCESSFUL";o.expectPOST("https://localhost:8080/spring4/transactionResults",n).respond(200,["redirectlink"]),t.sending("SUCCESSFUL"),o.flush(),expect(e.redirectUrl).toBeDefined()}),afterEach(function(){o.verifyNoOutstandingRequest(),o.verifyNoOutstandingExpectation()})}),function(){"use strict";function e(e,t){var n={sending:function(n){var a=t.defer();return e({url:"https://localhost:8080/spring4/transactionResults",method:"POST",data:n,headers:{"Content-Type":"application/json"}}).success(function(e){console.log("Uspesno result poslat."),a.resolve(e)}).error(function(){console.log("Došlo je do greške pri slanju rezultata transakcije ka merchantu servisu."),a.reject()}),a.promise}};return n}angular.module("acquirer.input").factory("Result",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e){var t=this;t.hide=function(){e.hide()},t.cancel=function(){e.cancel()},t.answer=function(t){e.hide(t)}}angular.module("acquirer.modal").controller("ModalController",e),e.$inject=["$mdDialog"]}(),function(){"use strict";function e(e,t){var n={generate:function(n){var a=t.defer();return e({url:"http://localhost:8081/Acquirer_back/payment/confirm",method:"POST",data:n,headers:{"Content-Type":"application/json"}}).success(function(e){a.resolve(e),console.log("Uspesno generisao transakcije"),console.log(n),console.log("DATA POSLE Uspesno generisao transakcije"),console.log(e)}).error(function(){console.log("PUKAO JE Došlo je do greške pri generisanju transakcije"),console.log(n),a.reject()}),a.promise}};return n}angular.module("acquirer.input").factory("Transaction",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t,n){t.localeLocationPattern("./assets/js/angular-i18n/angular-locale_{{locale}}.js"),t.defaultLocale("en"),e.translations("sr-latn",n["sr-latn"]),e.translations("en",n.en),e.preferredLanguage("en")}angular.module("acquirer.i18n").config(e),e.$inject=["$translateProvider","tmhDynamicLocaleProvider","crTranslations"]}(),function(){"use strict";angular.module("acquirer.i18n",["pascalprecht.translate","tmh.dynamicLocale","acquirer.i18n.constants"])}(),function(){"use strict";var e={en:{LABELS:{VALUTA:"USD$",HOME:"Home",DISCOVER:"The most complete payments solution for platforms.",INPUT:"Input",PLATFORM:"Payments designed for your unique needs",ABOUT:"About",PAYMENT:"Payment",ORDERSUMMARY:"Order summary:",ACTIONBUT:"Request consultation",ORDERTOTAL:"Order total:",BUYERPROTECTION:"Buyer protection by ",PAYWITHCARD:"Pay with card",REQUIRED:"This is required",SECCODE:"Security code",EXPMONTH:"Expiration month",EXPYEAR:"Expiration year",SUBPAYMENT:"Submit Payment ",DECPAYMENT:"Decline Payment",CANCELANDRETURN:"Cancel and return to Merchant site",CARDTYPE:"Card Type",CARDNUM:"Card Number",CARDHOLDERNAME:"Cardholder name",CARDHOLDERLASTNAME:"Cardholder lastname",ORDERSUMMARYTEXT:"This is summary of order. Fill out the payment form.",LETTERS:"This field should contain letters.",CARDNUMM:"Card number has to be  16 digits long.",SECCODEM:"Security code has to be  3 digits long.",EXPMONTHM:"Write a month when your card expire.",EXPYEARM:"Write a year when your card expire.",PARTNER:"Meet your true partner in payments",SECURITY:"Every transaction processed by CoaPayment is secured by our industry-leading risk technology.",WORKINPROG:"Work in progress..",WORKINPROG2:"Thank you for your payment..",LIST:"List of transactions",PLEASEWAIT:"Wait a moment while operations finishes up..",THANKYOU:"Thank you."},NOTE:"Note:Your payment is secured with VeriSign SSL encryption, the highest commercially available encryption technology. Please be assured that your credit/debit card details will not be exposed.Import duties, taxes and other customs related charges are not included. Buyers bear all responsibility for all extra charges incurred (if any).",LANGUAGE:"English"},"sr-latn":{LABELS:{VALUTA:"din",HOME:"Pocetna strana",DISCOVER:" Kompletno rešenje za platforme plaćanja.",INPUT:"Unos",PLATFORM:"Plaćanje prilagodjeno Vašim jedinstvenim potrebama.",ABOUT:"O nama",PAYMENT:"Placanje",ACTIONBUT:"Zatražite pomoć konsultanta",ORDERTOTAL:"Ukupna cena:",ORDERSUMMARY:"Detalji transakcije:",BUYERPROTECTION:"Zastita potrosaca od strane",PAYWITHCARD:"Plaćanje karticom",REQUIRED:"Ovo je potrebno",SECCODE:"Sigurnosni kod",EXPMONTH:"Mesec kada kartica ističe  ",EXPYEAR:"Godina isticanja kartice",SUBPAYMENT:"Potvrda placanja",DECPAYMENT:"Odustani",CANCELANDRETURN:"Odustani i vrati se na sajt prodavca",CARDTYPE:"Tip kartice",CARDNUM:"Broj kartice",CARDHOLDERNAME:"Ime nosioca kartice",CARDHOLDERLASTNAME:"Prezime nosioca kartice",ORDERSUMMARYTEXT:"Ovo je rezime transakcije. Popunite formu placanja.",CARDNUMM:"Broj kartice se sastoji od 16 cifara.",LETTERS:"Polje treba da sadrži samo slova.",SECCODEM:"Sigurnosni kod se sastoji od 3 cifre.",EXPMONTHM:"Napisite mesec kada kartice istice.",EXPYEARM:"Napisite godinu isticanja kartice.",PARTNER:"Pronadjite pravog partnera za plaćanja.",SECURITY:"Svaka transakcija je osigurana vodećom tehnologijom kojom brinemo o riziku.",WORKINPROG:"Obrada je u toku..",WORKINPROG2:"Hvala vam na placanju..",PLEASEWAIT:"Molimo sačekajte momenat dok se operacije završe..",LIST:"Lista transakcija",THANKYOU:"Hvala."},NOTE:"Note:",LANGUAGE:"Srpski"}};angular.module("acquirer.i18n.constants").constant("crTranslations",e)}();